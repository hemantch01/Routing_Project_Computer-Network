<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Router Simulator</title>
    <link rel="stylesheet" href="Frontend.css">
</head>
<body>

    <div class="container">
        <h1>üõ∞Ô∏è Network Router Simulator</h1>

        <section id="config-phase" class="card">
            <h2>1. Configuration</h2>
            
            <div class="matrix-container">
                <h3>Router Connection Matrix</h3>
                <p>This (static) matrix defines which routers have a direct link (1).</p>
                <table>
                    <thead>
                        <tr><th></th><th>R1</th><th>R2</th><th>R3</th><th>R4</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><b>R1</b></td><td>1</td><td>1</td><td>0</td><td>1</td></tr>
                        <tr><td><b>R2</b></td><td>1</td><td>1</td><td>1</td><td>0</td></tr>
                        <tr><td><b>R3</b></td><td>0</td><td>1</td><td>1</td><td>1</td></tr>
                        <tr><td><b>R4</b></td><td>1</td><td>0</td><td>1</td><td>1</td></tr>
                    </tbody>
                </table>
            </div>

            <form id="network-count-form">
                <h3>Define Attached Networks</h3>
                <p>How many unique networks are attached to each router? (Max 4)</p>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="r1-count">Router 1 Networks</label>
                        <input type="number" id="r1-count" min="0" max="4" value="1">
                    </div>
                    <div class="form-group">
                        <label for="r2-count">Router 2 Networks</label>
                        <input type="number" id="r2-count" min="0" max="4" value="1">
                    </div>
                    <div class="form-group">
                        <label for="r3-count">Router 3 Networks</label>
                        <input type="number" id="r3-count" min="0" max="4" value="1">
                    </div>
                    <div class="form-group">
                        <label for="r4-count">Router 4 Networks</label>
                        <input type="number" id="r4-count" min="0" max="4" value="1">
                    </div>
                </div>
                <button type="submit" class="btn">Generate IP Fields</button>
            </form>
            
            <div id="ip-inputs-container" style="display:none;">
                <h3>Enter Network IP Addresses</h3>
                <div id="ip-fields-grid" class="form-grid">
                    </div>
                <button id="save-config-btn" class="btn btn-primary">Save Configuration & Start</button>
                <div id="config-error" class="log error"></div>
            </div>
            
        </section>

        <section id="routing-phase" class="card" style="display:none;">
            <h2>2. Routing Simulation</h2>
            
            <form id="routing-query-form">
                <h3>New Route Query</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="source-ip">Source IP</label>
                        <input type="text" id="source-ip" placeholder="e.g., 192.168.1.1">
                    </div>
                    <div class="form-group">
                        <label for="destination-ip">Destination IP</label>
                        <input type="text" id="destination-ip" placeholder="e.g., 10.0.0.1">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Find Route</button>
            </form>

            <div id="routing-output" class="log-container">
                <h3>Query Log</h3>
                <pre id="routing-log" class="log"></pre>
            </div>

            <div id="manual-route-controls" class="card" style="display:none;">
                <h4>Manual Route Definition</h4>
                <p>Current Path: <b id="current-path-display"></b></p>
                <p>Current Router: <b id="current-router-display"></b>. (Destination is <b id="current-dest-display"></b>)</p>
                
                <div class="form-group">
                    <label for="next-hop-input">Enter next hop (1-4, or 0 to finalize):</label>
                    <input type="number" id="next-hop-input" min="0" max="4">
                    <button id="add-hop-btn" class="btn">Add Hop</button>
                </div>
                <div id="manual-route-error" class="log error"></div>
            </div>

            <div id="history-container" class="log-container">
                <h3>Route History</h3>
                <pre id="history-log" class="log">(No routes logged yet)</pre>
            </div>
        </section>

    </div> <script src="Frontend.js"></script>
</body>
</html>